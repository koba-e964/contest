単純に左から右に見る DP (およびそれをセグメント木に載せたもの) で正解できると思ったが、サンプルも合わない。

->
- 1 1 1 0 のようなパターンで、右に 0 があるから左の 1 1 を消せる、というパターンを見落としていた。
- 1 0 1 1 1 のようなパターンで、先に 1 番目 の 0 を消してしまうと 1 1 1 1 になり、これ以上操作できないという問題もある。この場合は先に [2,3] の 1 1 を消すべきである。

以下のような状態を持つオートマトンで最適解を計算できる。

0: 初期状態。何も読んでいない
1: 先頭から 1+ を読んだ
2: 先頭から 0 を読んだ
3: 先頭から 00+ を読んだ
4: 0 も 1 も読んだことがあり、直近で 10 を読んだ
5: 0 も 1 も読んだことがあり、直近で 100+ を読んだ
6: 0 も 1 も読んだことがあり、直近で 1 を読んだ

-> WA。よく考えたら、 1 0 1 0 1 のときに、最後 1 1 から減らすことはできなかった。このような場合は 2 と max をとることで対処できる。
